<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Conecta Idoso - Lendo Guia</title>
  <link rel="stylesheet" href="/css/main.css">
  </head>
<body class="pagina-conteudo">
  <div class="caixa">
    <div class="cabecalho">
      <button class="btn-voltar" onclick="window.location.href='textos.html'">Voltar</button>
      <img src="/images/logo-pequena.jpeg" alt="Conecta Idoso" class="logo">
      <button class="btn-sair" onclick="sair()">Sair</button>
    </div>

    <main class="artigo-container" id="artigo-container">
      <h1 class="titulo-artigo">Carregando...</h1>
      <div class="meta-artigo"></div>
      <div class="conteudo-artigo"></div>
    </main>
    
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const urlParams = new URLSearchParams(window.location.search);
      const textoId = urlParams.get('id');

      const container = document.getElementById('artigo-container');
      const tituloEl = container.querySelector('.titulo-artigo');
      const conteudoEl = container.querySelector('.conteudo-artigo');
      // A linha que selecionava o 'metaEl' foi removida pois não será usada

      if (textoId) {
        const textos = JSON.parse(sessionStorage.getItem('meusTextos')) || [];
        const texto = textos.find(t => t.id == textoId);

        if (texto) {
          document.title = texto.titulo;
          tituloEl.textContent = texto.titulo;
          
          // A LINHA QUE EXIBIA A TAG FOI REMOVIDA DAQUI
          
          // Como o Trix já salva em HTML, apenas inserimos diretamente
          conteudoEl.innerHTML = texto.conteudo;
        } else {
          tituloEl.textContent = 'Texto não encontrado';
        }
      }
    });
  </script>
  <script src="/js/app.js"></script>
  <script>
    // Checa se existe usuário logado no localStorage
    var usuarioJSON = localStorage.getItem("usuarioLogado");
    var usuarioLogado = JSON.parse(usuarioJSON)

    if (!usuarioLogado) {
      alert("Você precisa estar logado para acessar esta página.");
      window.location.href = "login.html";
    }
    const h2 = document.getElementById("bem-vindo");
    h2.textContent = `Bem-vindo(a), ${usuarioLogado.nome}!`;
  </script>
</body>
</html>