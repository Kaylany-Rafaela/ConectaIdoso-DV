<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Conecta Idoso - Perfil</title>
  <link rel="stylesheet" href="estilo.css">
</head>
<body class="pagina-perfil">
  <div class="caixa">
    <!-- Cabe√ßalho -->
    <div class="cabecalho">
      <button class="btn-voltar" onclick="voltarParaPainel()">Voltar</button>
      <img src="assets/logos/logo-pequena.jpeg" alt="Conecta Idoso" class="logo">
      <button class="btn-sair" onclick="sair()">Sair</button>
    </div>

    <h2>Perfil Cadastrado</h2>
    
    <!-- Conte√∫do -->
    <div class="conteudo-perfil">
      <!-- Bloco Idoso -->
      <div class="bloco-perfil bloco-idoso">
        <h3>üë¥ Informa√ß√µes do Idoso</h3>
        <label>Nome:</label>
        <input type="text" id="nomeIdosoPerfil" disabled>

        <label>Telefone:</label>
        <input type="text" id="telefoneIdosoPerfil" disabled>

        <label>Endere√ßo:</label>
        <input type="text" id="enderecoIdosoPerfil" disabled>
      </div>

      <!-- Bloco Administrador -->
      <div class="bloco-perfil bloco-admin">
        <h3>üë§ Informa√ß√µes do Administrador</h3>
        <label>Nome:</label>
        <input type="text" id="nomeAdmPerfil" disabled>

        <label>Telefone:</label>
        <input type="text" id="telefoneAdmPerfil" disabled>

        <label>Endere√ßo:</label>
        <input type="text" id="enderecoAdmPerfil" disabled>
      </div>
      
      <!-- Bot√µes -->
      <div class="acoes-perfil">
        <button class="btn-editar" id="btnEditar" onclick="editarInformacoes()">Editar Informa√ß√µes</button>
        <button class="btn-salvar" id="btnSalvar" style="display:none;" onclick="salvarInformacoes()">Salvar Altera√ß√µes</button>
      </div>
    </div>
  </div>

  <script>
    // REMOVIDA A FUN√á√ÉO voltarPainel() DAQUI (agora est√° no app.js)

    // Carrega dados salvos
    window.onload = () => {
      document.getElementById("nomeIdosoPerfil").value = localStorage.getItem("nomeIdoso") || "";
      document.getElementById("telefoneIdosoPerfil").value = localStorage.getItem("telefoneIdoso") || "";
      document.getElementById("enderecoIdosoPerfil").value = localStorage.getItem("enderecoIdoso") || "";

      document.getElementById("nomeAdmPerfil").value = localStorage.getItem("nomeAdm") || "";
      document.getElementById("telefoneAdmPerfil").value = localStorage.getItem("telefoneAdm") || "";
      document.getElementById("enderecoAdmPerfil").value = localStorage.getItem("enderecoAdm") || "";
    };

    // Habilitar edi√ß√£o
    function editarInformacoes() {
      document.querySelectorAll(".bloco-perfil input").forEach(input => input.disabled = false);
      document.getElementById("btnEditar").style.display = "none";
      document.getElementById("btnSalvar").style.display = "inline-block";
    }

    // Salvar altera√ß√µes
    function salvarInformacoes() {
      localStorage.setItem("nomeIdoso", document.getElementById("nomeIdosoPerfil").value);
      localStorage.setItem("telefoneIdoso", document.getElementById("telefoneIdosoPerfil").value);
      localStorage.setItem("enderecoIdoso", document.getElementById("enderecoIdosoPerfil").value);
      localStorage.setItem("nomeAdm", document.getElementById("nomeAdmPerfil").value);
      localStorage.setItem("telefoneAdm", document.getElementById("telefoneAdmPerfil").value);
      localStorage.setItem("enderecoAdm", document.getElementById("enderecoAdmPerfil").value);

      document.querySelectorAll(".bloco-perfil input").forEach(input => input.disabled = true);
      document.getElementById("btnEditar").style.display = "inline-block";
      document.getElementById("btnSalvar").style.display = "none";

      alert("Informa√ß√µes atualizadas com sucesso!");
    }
  </script>
  
  <script src="app.js"></script>
</body>
</html>